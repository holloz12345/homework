using System;

namespace AdapterPatternDemo
{
    class Program
    {
        static void Main(string[] args)
        {
            Console.WriteLine("-- Демонстрация работы Адаптера --\n");
            
            OldLogger oldLogger = new OldLogger();
            Logger loggerAdapter = new LoggerAdapter(oldLogger);
            
            Console.WriteLine("Вызов логгера через адаптер...");
            loggerAdapter.Log("Это тестовое сообщение для лога.");
            
            Console.WriteLine("\nНажмите любую клавишу для выхода...");
            Console.ReadKey();
        }
    }
    
    public interface Logger
    {
        void Log(string message);
    }
    
    public class OldLogger
    {
        public void LogMessage(string message, DateTime date)
        {
            Console.WriteLine($"[OldLogger]: {date:dd.MM.yyyy HH:mm:ss} - {message}");
        }
    }
    
    public class LoggerAdapter : Logger
    {
        private OldLogger oldLogger;
        
        public LoggerAdapter(OldLogger oldLogger)
        {
            this.oldLogger = oldLogger;
        }
        
        public void Log(string message)
        {
            oldLogger.LogMessage(message, DateTime.Now);
        }
    }
}
