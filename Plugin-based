using System;
using System.Collections.Generic;

namespace TextProcessingSystem
{
    public interface ITextPlugin
    {
        string Process(string input);
        string GetName();
    }

    public class ToUpperPlugin : ITextPlugin
    {
        public string Process(string input)
        {
            return input.ToUpper();
        }

        public string GetName()
        {
            return "ToUpperCase";
        }
    }

    public class SpaceRemoverPlugin : ITextPlugin
    {
        public string Process(string input)
        {
            return input.Replace(" ", "");
        }

        public string GetName()
        {
            return "SpaceRemoverPlugin";
        }
    }

    public class ReversePlugin : ITextPlugin
    {
        public string Process(string input)
        {
            char[] charArray = input.ToCharArray();
            Array.Reverse(charArray);
            return new string(charArray);
        }

        public string GetName()
        {
            return "ReversePlugin";
        }
    }

    public class TextProcessor
    {
        public string Process(string input, List<ITextPlugin> plugins)
        {
            string result = input;
            foreach (var plugin in plugins)
            {
                result = plugin.Process(result);
            }
            return result;
        }
    }

    class Program
    {
        static void Main()
        {
            Console.WriteLine("--- Система обработки текста на плагинах ---\n");

            string originalText = "Hello World! This is a test.";

            List<ITextPlugin> plugins = new List<ITextPlugin>
            {
                new ToUpperPlugin(),
                new SpaceRemoverPlugin(),
                new ReversePlugin()
            };

            Console.WriteLine($"Исходная строка: {originalText}\n");

            Console.WriteLine("Примененные плагины:");
            foreach (var plugin in plugins)
            {
                Console.WriteLine($"- {plugin.GetName()}");
            }

            TextProcessor processor = new TextProcessor();
            string result = processor.Process(originalText, plugins);

            Console.WriteLine($"\nРезультат после обработки: {result}");
        }
    }
}
